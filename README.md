# Crawling Engine (Python)

ê³µê³µ/ë¯¼ê°„ ìê²©ì¦ ì‚¬ì´íŠ¸ì˜ ì •ë³´ë¥¼ ìë™ ìˆ˜ì§‘Â·ì •ê·œí™”í•˜ì—¬ **í‘œì¤€ JSON ì‚°ì¶œë¬¼**ì„ ìƒì„±í•˜ëŠ” í¬ë¡¤ë§ ì—”ì§„ì…ë‹ˆë‹¤.  
ìš´ì˜ ê´€ì ì—ì„œ **ì‹¤íŒ¨ ì œì–´(íƒ€ì„ì•„ì›ƒ/ì¬ì‹œë„/ìŠ¤ëƒ…ìƒ·)ì™€ ë¡œê·¸ ê¸°ë°˜ ì¬í˜„/íŠ¸ëŸ¬ë¸”ìŠˆíŒ…**ì„ ìš°ì„ í•´ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

Pipeline: fetch â†’ parse â†’ normalize â†’ output(JSON)

## í”„ë¡œì íŠ¸ ê°œìš”
- ìê²©ì¦ ì •ë³´ê°€ ì—¬ëŸ¬ ì‚¬ì´íŠ¸ì— ë¶„ì‚°ë˜ì–´ ìˆì–´ ê´€ë¦¬ê°€ ì–´ë µë‹¤ëŠ” ë¬¸ì œì—ì„œ ì¶œë°œ
- ê³µê³µ/ë¯¼ê°„ ìê²©ì¦ ë°ì´í„°ë¥¼ í‘œì¤€ JSON êµ¬ì¡°ë¡œ í†µí•©
- ì‹¤íŒ¨ ì œì–´ì™€ ì¬ì²˜ë¦¬ë¥¼ ê³ ë ¤í•œ í¬ë¡¤ë§ íŒŒì´í”„ë¼ì¸ ì„¤ê³„

## ê²°ê³¼ë¬¼
- ê²°ê³¼ë¬¼ì€ ë³„ë„ì˜ ì‘ì—… ë£¨íŠ¸(`--root`) ì•„ë˜ì— ìƒì„±ë©ë‹ˆë‹¤.
  - ì˜ˆ: `Certificate_api/1320/1320.norm.json`


## ì„¤ê³„ í¬ì¸íŠ¸
- ê³µê³µ(Q-Net) / ë¯¼ê°„ ì‚¬ì´íŠ¸ **êµ¬ì¡° ì°¨ì´ë¥¼ íŒŒì´í”„ë¼ì¸ ìˆ˜ì¤€ì—ì„œ ë¶„ë¦¬**í•´ í™•ì¥ì„± í™•ë³´
- adapter/util ê³„ì¸µìœ¼ë¡œ ê·œì¹™ì„ ë¶„ë¦¬í•´ **ìœ ì§€ë³´ìˆ˜ì„±ê³¼ ë°ì´í„° í’ˆì§ˆ**ì„ ìš°ì„ 
- **íƒ€ì„ì•„ì›ƒÂ·ì¬ì‹œë„Â·ìŠ¤ëƒ…ìƒ·(HTML ì €ì¥)Â·ì¤‘ë³µ ì œê±°**ë¡œ ì‹¤íŒ¨ ì¼€ì´ìŠ¤ ì œì–´

## ì½”ë“œ ì½ê¸° ê°€ì´ë“œ
- `public_cert_api/` : ê³µê³µ(Q-Net) ì²˜ë¦¬ ëŸ¬ë„ˆ
- `private-cert-crawl/` : ë¯¼ê°„/ì‚¬ì„¤ í¬ë¡¤ëŸ¬ ëª¨ìŒ

## ë³´ì•ˆ
- ì¿ í‚¤/í† í°/ê³„ì •ì •ë³´ëŠ” ì €ì¥ì†Œì— ì»¤ë°‹í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. (`cookies.txt`, `.env` ë“±ì€ `.gitignore` ì²˜ë¦¬)
- ê³¼ë„í•œ íŠ¸ë˜í”½ì„ ìœ ë°œí•˜ì§€ ì•Šë„ë¡ ìš”ì²­ ê°„ê²©/ì¬ì‹œë„ë¥¼ ì œí•œí•©ë‹ˆë‹¤.


---

## ìƒì„¸ ì„¤ê³„ ë°°ê²½ ë° ë¬¸ì œ í•´ê²° ê³¼ì •

### 1. í”„ë¡œì íŠ¸ ì‹œì‘ ë°°ê²½

íë„·, ìê²©ì¦ë„· ë“± ê¸°ì¡´ ìê²©ì¦ ì‚¬ì´íŠ¸ë“¤ì€ ì¼ì •, ì‹œí—˜ ì •ë³´, CBT ê¸°ëŠ¥ì´ ê°ê° ë¶„ì‚°ë˜ì–´ ìˆì–´,
ì‚¬ìš©ìê°€ ê´€ì‹¬ ìˆëŠ” ìê²©ì¦ë§Œì„ ëª¨ì•„ í•œëˆˆì— ê´€ë¦¬í•˜ê¸° ì–´ë µë‹¤ëŠ” ë¶ˆí¸í•¨ì´ ìˆì—ˆìŠµë‹ˆë‹¤.
íŒ€ì›ë“¤ê³¼ ë…¼ì˜í•œ ëì— ìê²©ì¦ ì¼ì •Â·ì‹œí—˜ ì •ë³´Â·CBTÂ·ì¦ê²¨ì°¾ê¸° ê¸°ëŠ¥ì„ í•˜ë‚˜ì˜ ì„œë¹„ìŠ¤ë¡œ í†µí•©í•´
ì œê³µí•˜ìëŠ” ê²°ë¡ ì— ë„ë‹¬í–ˆê³ , ì´ë¥¼ ì¡¸ì—…ì‘í’ˆ ì£¼ì œë¡œ ì„ ì •í–ˆìŠµë‹ˆë‹¤.

---

### 2. ë¬¸ì œ â‘  í¬ë¡¤ë§ íŒŒì´í”„ë¼ì¸ ì„¤ê³„

ê°€ì¥ ì²˜ìŒ ë§ˆì£¼í•œ ë¬¸ì œëŠ” í¬ë¡¤ë§ ìì²´ê°€ ì•„ë‹ˆë¼,
**â€œì¸í„°ë„·ì— í©ì–´ì§„ ì •ë³´ë¥¼ ì–´ë–¤ êµ¬ì¡°ë¡œ ìˆ˜ì§‘Â·ì •ë¦¬í•  ê²ƒì¸ê°€â€**ì˜€ìŠµë‹ˆë‹¤.

ì´ì— ë”°ë¼  
fetch(HTML ìˆ˜ì§‘) â†’ parse(JSON ë³€í™˜) â†’ normalize(ì •ê·œí™” ë° DB ì ì¬)  
ë¼ëŠ” ê³µí†µ íŒŒì´í”„ë¼ì¸ì„ ê¸°ì¤€ìœ¼ë¡œ ì „ì²´ êµ¬ì¡°ë¥¼ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

ë˜í•œ ì‚¬ì´íŠ¸ë³„ HTML ê·œì¹™ ì°¨ì´ë¥¼ í¡ìˆ˜í•˜ê¸° ìœ„í•´ adapter ê³„ì¸µì„ ë‘ê³ ,
ë¶ˆí•„ìš”í•œ ë¬¸ì ì œê±°Â·ë¹ˆ ê°’ ì²˜ë¦¬Â·í˜•ì‹ í†µì¼ê³¼ ê°™ì€ ê³µí†µ ì‘ì—…ì€
util ìŠ¤í¬ë¦½íŠ¸ë¡œ ë¶„ë¦¬í•´ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤.

---

### 3. ë¬¸ì œ â‘¡ ê³µê³µÂ·ë¯¼ê°„ ìê²©ì¦ ë°ì´í„° êµ¬ì¡° ì°¨ì´

ê³µê³µ ìê²©ì¦(íë„·)ê³¼ ë¯¼ê°„ ìê²©ì¦ ì‚¬ì´íŠ¸ëŠ” ë°ì´í„° êµ¬ì¡°ì™€ ì‹ ë¢°ë„ ì¸¡ë©´ì—ì„œ ì„±ê²©ì´ í¬ê²Œ ë‹¬ëìŠµë‹ˆë‹¤.

ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ê³µê³µ ìê²©ì¦ê³¼ ë¯¼ê°„ ìê²©ì¦ì„
ë™ì¼í•œ ê·œì¹™ìœ¼ë¡œ ì²˜ë¦¬í•˜ì§€ ì•Šê³ , íŒŒì´í”„ë¼ì¸ ìˆ˜ì¤€ì—ì„œ ë¶„ë¦¬í•˜ëŠ” ì„¤ê³„ë¥¼ ì„ íƒí–ˆìŠµë‹ˆë‹¤.

ë¯¼ê°„ ìê²©ì¦ì€ ë¹„êµì  êµ¬ì¡°ê°€ ì•ˆì •ì ì¸ ë§Œí¼ ìë™í™” ë¹„ì¤‘ì„ ë†’ì˜€ê³ ,
íë„·ì˜ ê²½ìš°ì—ëŠ” ìë™í™” ê°€ëŠ¥í•œ ì˜ì—­ê³¼ ìˆ˜ì‘ì—… ê²€ì¦ì´ í•„ìš”í•œ ì˜ì—­ì„ êµ¬ë¶„í•´ ì ‘ê·¼í–ˆìŠµë‹ˆë‹¤.

ê·¸ ê²°ê³¼ ì•½ 80~90% ìˆ˜ì¤€ì˜ ë°ì´í„° ì •í•©ì„±ì„ í™•ë³´í–ˆê³ ,
ì™„ë²½í•œ ìë™í™”ë³´ë‹¤ ìš´ì˜ ê°€ëŠ¥ì„±ê³¼ ë°ì´í„° í’ˆì§ˆì„ ìš°ì„ í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ
êµ¬í˜„ ë²”ìœ„ë¥¼ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.


## 4. ë¬¸ì œ â‘¢ í¬ë¡¤ë§ ì—”ì§„ í™œìš©
ì „ì²´ ì„œë¹„ìŠ¤ ì¤‘ **Core Crawling Engine(Python)** ë¶€ë¶„ì„ ì „ë‹´í•˜ì—¬ ê°œë°œí–ˆìŠµë‹ˆë‹¤.  
Spring Bootì™€ **ProcessBuilder(CLI)** ë°©ì‹ìœ¼ë¡œ ì—°ë™ë˜ë©°, ì˜¨ë””ë§¨ë“œ(On-demand) ìš”ì²­ ì‹œ ì‹¤í–‰ë©ë‹ˆë‹¤.

```mermaid
flowchart LR
    User([ì‚¬ìš©ì]) -->|1. í´ë¦­ (ìš”ì²­)| Client[Frontend\n(React)]
    Client -->|2. API í˜¸ì¶œ| Server[Backend\n(Spring Boot)]
    
    subgraph "My Contribution (Core Engine)"
    Server == "3. CLI ì‹¤í–‰ (ProcessBuilder)" ==> Python[ğŸ Python Crawling Engine]
    Python -->|4. ë°ì´í„° ìˆ˜ì§‘ & íŒŒì‹±| Sites(ëŒ€ìƒ ì‚¬ì´íŠ¸\níë„·/ë¯¼ê°„ ìê²©ì¦ ì‚¬ì´íŠ¸)
    end
    
    Python -- "5. í‘œì¤€ JSON ë°˜í™˜" --> Server
    Server -->|6. ë°ì´í„° ì ì¬| DB[(PostgreSQL)]
    
    style Python fill:#f9f,stroke:#333,stroke-width:4px,color:black
    style Sites fill:#eee,stroke:#333,stroke-dasharray: 5 5
